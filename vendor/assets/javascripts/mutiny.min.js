/*! Mutiny v0.3.1 - http://mutinyjs.com/ */
!function(a,b){function c(a,b){return a?a.filter(b):$(b)}function d(a,c,d){var e=i.widgets[c]||i[c];if(e===b)throw j('"{0}" not found',c);if(d=d||{},f(d)){var g={};if(e.string_arg)g[e.string_arg]=d;else{if(!e.stringArg)throw j('"{0}" cannot parse "{1}"',c,d);g[e.stringArg]=d}d=g}return d.called?void 0:(e.init(a,$.extend({},e.defaults,d)),d.called=!0,d)}function e(a){return $.map(a.split(/(?=[A-Z])/),function(a){return a.toLowerCase()}).join("-")}function f(a){return!!a.substring}function g(a,b,c){var d=a.replace("%s",j("<span>{0}</span>",b||"&nbsp;"));return c?j('<span class="{0}">{1}</span>',c,d):j("<span>{0}</span>",d)}function h(a,b,c){if(0===a.length)return function(){};if(b){var d={};for(var e in b)d[e]=a.css(e);return function(c){a.css(c?b:d)}}return c=c.split(" "),function(b){a.toggleClass(c[0],!b),a.toggleClass(c[1],b)}}$(function(){i.options.initOnReady&&i.init()});var i=a.Mutiny={options:{initOnReady:!0},widgets:{},init:function(a,g){g=g||"mutiny",c(a,j("[data-{0}]",g)).each(function(a,b){var c=$(b),e=c.data(g);if(f(e))d(c,e,{});else{if("object"!=typeof p)throw"Unsupported data";for(var h in e)d(c,h,e[h])}});var h=[];for(var k in i.widgets)h.push(j("[data-{0}-{1}]",g,e(k)));for(var l=c(a,h.join(",")),m=0;m<l.length;m++){var n=$(l[m]);for(k in i.widgets){var o=j("{0}-{1}",g,k),p=n.data(o);if(p!==b){var q=d(n,k,p);q&&n.data(o,q)}}}}},j=function(){for(var a=[],b=0;10>b;b++)a[b]=new RegExp("\\{"+b+"\\}","gm");return function(){for(var b=arguments[0],c=1;c<arguments.length;c++)b=b.replace(a[c-1],arguments[c]);return b}}();i.widgets.accordion={defaults:{},init:function(b,c){var d=a.location.hash;d&&b.find(d).length>0&&(c.active=d),b.accordion(c),$(a).on("hashchange",function(){var c=a.location.hash;c&&b.find(c).length>0&&b.accordion("activate",c)})}},i.widgets.datepicker={init:function(a,b){a.datepicker(b)}},i.widgets.slider={defaults:{range:"min"},init:function(a,b){var c;if(b.target)c=$(b.target);else{var d=a.attr("id");c=d?$(j('<div id="{0}-mutiny-slider"></div>',d)):$("<div></div>"),c.insertAfter(a)}if(b.value=a.val(),b.slide=function(b,c){a.val(c.value).change()},a.is("select")){var e=a.find("option");b.min=Number(e.first().val()),b.max=Number(e.last().val()),b.step=(b.max-b.min)/(e.length-1)}else $.each(["min","max","step"],function(c,d){b[d]=Number(b[d]||a.attr(d)||a.data(d))});if(a.change(function(){var d=Number(a.val());d>b.max&&(d=b.max),d<b.min&&(d=b.min),isNaN(d)&&(d=b.value),a.val(d),c.slider("value",d)}),b.minLabel&&c.append(g(b.minLabel,b.min,"min-label")),b.maxLabel&&c.append(g(b.maxLabel,b.max,"max-label")),c.slider(b),b.valueLabel){var f=$(g(b.valueLabel,b.value,"value-label")).appendTo(c.find(".ui-slider-handle")),h=f.find("span");a.change(function(){h.html(a.val())})}}},i.widgets.toggler={defaults:{classes:"inactive active",preventDefault:!1},stringArg:"target",init:function(a,b){var c=$(b.target),d=h(a,b.style,b.classes),e=h(c,b.targetStyle,b.targetClasses||b.classes);if(a.is("input[type=radio]")){var f=a.attr("name");d(a.is(":checked")),e(a.is(":checked")),$(j('input[name="{0}"]',f)).change(function(){d(a.is(":checked")),e(a.is(":checked"))})}else if(a.is("input[type=checkbox]"))d(a.is(":checked")),e(a.is(":checked")),a.change(function(){d(a.is(":checked")),e(a.is(":checked"))});else{var g=!1;d(g),e(g),a.click(function(a){g=!g,d(g),e(g),b.preventDefault&&a.preventDefault()})}}}}(window);